!function(t,i,s){"use strict";var e,n,o=t.event;e=o.special.debouncedresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(t,i){var s=this,a=arguments,r=function(){t.type="debouncedresize",o.dispatch.apply(s,a)};n&&clearTimeout(n),i?r():n=setTimeout(r,e.threshold)},threshold:150};var a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(i){function e(){var s=t(u),e=t(p);r&&(p.length?r.reject(l,s,e):r.resolve(l)),t.isFunction(i)&&i.call(o,l,s,e)}function n(i,s){i.src!==a&&-1===t.inArray(i,d)&&(d.push(i),s?p.push(i):u.push(i),t.data(i,"imagesLoaded",{isBroken:s,src:i.src}),h&&r.notifyWith(t(i),[s,l,t(u),t(p)]),l.length===d.length&&(setTimeout(e),l.unbind(".imagesLoaded")))}var o=this,r=t.isFunction(t.Deferred)?t.Deferred():0,h=t.isFunction(r.notify),l=o.find("img").add(o.filter("img")),d=[],u=[],p=[];return t.isPlainObject(i)&&t.each(i,function(t,s){"callback"===t?i=s:r&&r[t](s)}),l.length?l.bind("load.imagesLoaded error.imagesLoaded",function(t){n(t.target,"error"===t.type)}).each(function(i,e){var o=e.src,r=t.data(e,"imagesLoaded");return r&&r.src===o?void n(e,r.isBroken):e.complete&&e.naturalWidth!==s?void n(e,0===e.naturalWidth||0===e.naturalHeight):void((e.readyState||e.complete)&&(e.src=a,e.src=o))}):e(),r?r.promise(o):o};var r=t(i),h=i.Modernizr;t.Elastislide=function(i,s){this.$el=t(s),this._init(i)},t.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(t,i,s){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},t.Elastislide.prototype={_init:function(i){this.options=t.extend(!0,{},t.Elastislide.defaults,i);var s=this,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return this.transEndEventName=e[h.prefixed("transition")],this.support=h.csstransitions&&h.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount?!1:(this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){s._addTransition()},100),void this.$el.imagesLoaded(function(){s.$el.show(),s._layout(),s._configure(),s.hasTransition?(s._removeTransition(),s._slideToItem(s.current),s.$el.on(s.transEndEventName,function(){s.$el.off(s.transEndEventName),s._setWrapperSize(),s._addTransition(),s._initEvents()})):(clearTimeout(s.hasTransitionTimeout),s._setWrapperSize(),s._initEvents(),s._slideToItem(s.current),setTimeout(function(){s._addTransition()},25)),s.options.onReady()}))},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var t=this.$items.find("img:first");this.imgSize={width:t.outerWidth(!0),height:t.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var i=this;this.$navigation=t('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(t){return i._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(t){return i._slide("next"),!1})},_setItemsSize:function(){var t="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:t+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var i=this;r.on("debouncedresize.elastislide",function(){i._setItemsSize(),i._configure(),i._slideToItem(i.current)}),this.$el.on(this.transEndEventName,function(){i._onEndTransition()}),this.$el.on("horizontal"===this.options.orientation?{swipeleft:function(){i._slide("next")},swiperight:function(){i._slide("prev")}}:{swipeup:function(){i._slide("next")},swipedown:function(){i._slide("prev")}}),this.$el.on("click.elastislide","li",function(s){var e=t(this);i.options.onClick(e,e.index(),s)})},_destroy:function(t){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),r.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),t&&t.call()},_toggleControls:function(t,i){i?"next"===t?this.$navNext.show():this.$navPrev.show():"next"===t?this.$navNext.hide():this.$navPrev.hide()},_slide:function(i,e){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var n=this,o=this.translation||0,a="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),r=this.itemsCount*a,h="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(e===s){var l=this.fitCount*a;if(0>l)return!1;if("next"===i&&r-(Math.abs(o)+l)<h)l=r-(Math.abs(o)+h),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===i&&Math.abs(o)-l<0)l=Math.abs(o),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var d="next"===i?Math.abs(o)+Math.abs(l):Math.abs(o)-Math.abs(l);d>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),r-h>d?this._toggleControls("next",!0):this._toggleControls("next",!1)}e="next"===i?o-l:o+l}else{var l=Math.abs(e);Math.max(r,h)-l<h&&(e=-(Math.max(r,h)-h)),l>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(r,h)-h>l?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=e,o===e)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+e+"px)"):this.$el.css("transform","translateY("+e+"px)");else{t.fn.applyStyle=this.hasTransition?t.fn.animate:t.fn.css;var u="horizontal"===this.options.orientation?{left:e}:{top:e};this.$el.stop().applyStyle(u,t.extend(!0,[],{duration:this.options.speed,complete:function(){n._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(t){var t=t||this.current,i=Math.abs(this.translation)||0,s="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),e=i+this.$carousel.width(),n=Math.abs(t*s);(n+s>e||i>n)&&this._slideToItem(t)},_slideToItem:function(t){var i="horizontal"===this.options.orientation?t*this.$items.outerWidth(!0):t*this.$items.outerHeight(!0);this._slide("",-i)},add:function(t){var i=this,s=this.current,e=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=e.index(),this._setItemsSize(),this._configure(),this._removeTransition(),s<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){i._addTransition()},25),t&&t.call()},setCurrent:function(t,i){this.current=t,this._slideTo(),i&&i.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(t){this._destroy(t)}};var l=function(t){i.console&&i.console.error(t)};t.fn.elastislide=function(i){var s=t.data(this,"elastislide");if("string"==typeof i){var e=Array.prototype.slice.call(arguments,1);this.each(function(){return s?t.isFunction(s[i])&&"_"!==i.charAt(0)?void s[i].apply(s,e):void l("no such method '"+i+"' for elastislide self"):void l("cannot call methods on elastislide prior to initialization; attempted to call method '"+i+"'")})}else this.each(function(){s?s._init():s=t.data(this,"elastislide",new t.Elastislide(i,this))});return s}}(jQuery,window);